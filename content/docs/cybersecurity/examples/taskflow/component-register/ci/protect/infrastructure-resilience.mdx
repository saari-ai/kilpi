---
title: "PR.IR: Technology Infrastructure Resilience"
description: Build Pipeline example for infrastructure-resilience
---

For methodology guidance, see [PR.IR: Technology Infrastructure Resilience](/docs/cybersecurity/functions/protect/infrastructure-resilience).

---

### PR.IR-01: Network protection

| Network segment | Contains | Inbound allowed from | Outbound allowed to | Enforcement |
|---|---|---|---|---|
| GitHub Actions runners | Ephemeral build environment | GitHub-managed (no inbound from internet) | GitHub API, ECR, AWS STS, npm registry, Docker Hub | GitHub-managed network isolation |
| ECR (container registry) | Docker images | GitHub Actions runners (via OIDC-authenticated HTTPS), deployment infrastructure | N/A (pull-only from deployment side) | IAM policies + VPC endpoint (for deployment) |
| AWS STS | OIDC token exchange | GitHub Actions runners (HTTPS) | N/A | IAM trust policy + OIDC claim validation |

| Control | Level | Rule | Purpose |
|---|---|---|---|
| ECR access via IAM | Authentication | Only OIDC-authenticated principals from specific repo/branch can push | Prevents unauthorized image pushes (<span style={{whiteSpace: 'nowrap'}}>SC-CI-3.3</span>) |
| GitHub Secrets scope | Access control | Secrets scoped to specific environments, not accessible from forks | Prevents secret exfiltration from fork PRs (<span style={{whiteSpace: 'nowrap'}}>SC-CI-3.1</span>) |
| Runner network isolation | Network | GitHub-hosted runners operate in GitHub-managed network, no persistent state | Prevents lateral movement from compromised runner |

---

### PR.IR-02: Environmental protection

The build pipeline runs entirely on GitHub-hosted runners and AWS managed services. Environmental protections (power, cooling, fire suppression, physical security) are managed by GitHub and AWS. Both maintain SOC 2, ISO 27001, and other certifications covering environmental controls.

---

### PR.IR-03: Resilience mechanisms

| Mechanism | Where applied | Configuration | Failure behaviour |
|---|---|---|---|
| Ephemeral runners | GitHub Actions | Fresh VM per job, no state carried between jobs | If a runner fails, GitHub automatically retries on a new runner. No contamination from previous runs. |
| Workflow retry | GitHub Actions | Automatic retry on runner failure. Manual re-run for other failures. | Failed jobs can be re-run individually without re-running the entire workflow. |
| ECR cross-region replication | Container registry | Critical production images replicated to secondary region | If primary region is unavailable, deployment can pull from secondary region. |
| Fallback deployment method | Production deployment | Manual deployment runbook documented for cases when CI is unavailable | Infrastructure owner can deploy from local machine using OIDC credentials (break-glass procedure). |
| Git distributed architecture | Source code | Every developer has a full clone of the repository | If GitHub is unavailable, source code is preserved across all developer machines. |

---

### PR.IR-04: Capacity management

| Resource | Monitoring | Alert threshold | Scaling approach | Max limit |
|---|---|---|---|---|
| GitHub Actions minutes | GitHub billing dashboard | Warning: 80% of monthly allocation. Critical: 90%. | Upgrade plan or optimize workflow efficiency | Plan-dependent (GitHub Enterprise: unlimited for hosted runners) |
| Concurrent workflow runs | GitHub Actions settings | Warning: queue depth > 10 jobs. | Optimize workflow triggers, reduce unnecessary runs | Plan-dependent (GitHub Enterprise: 180 concurrent jobs) |
| ECR storage | CloudWatch metrics | Warning: 80% of allocated storage. Critical: 90%. | Lifecycle policy removes old images. Increase allocation if needed. | No hard limit (cost monitoring) |
| GitHub Actions cache | Workflow logs (cache hit/miss rate) | N/A (cache miss degrades performance, not availability) | Optimize cache keys, reduce cache size | 10 GB per repository |

---
