---
title: "PR.IR: Technology Infrastructure Resilience"
description: Taskflow example for technology infrastructure resilience
---

For methodology guidance, see [PR.IR: Technology Infrastructure Resilience](/docs/cybersecurity/functions/protect/infrastructure-resilience).

---

### PR.IR-01: Network protection

| Network segment | Contains | Inbound allowed from | Outbound allowed to | Enforcement |
|---|---|---|---|---|
| Public subnet | Load balancer | Internet (HTTPS/443 only) | Private subnet (application port) | Security group + NACL |
| Private subnet (application) | Express API (EC2/ECS) | Load balancer only | PostgreSQL, Redis, S3, Stripe, SendGrid, Google (HTTPS) | Security group |
| Private subnet (data) | PostgreSQL (RDS), Redis (ElastiCache) | Application subnet only | None (no outbound) | Security group + RDS/ElastiCache network config |

| Control | Level | Rule | Purpose |
|---|---|---|---|
| Redis VPC binding | Network | Redis security group allows connections only from application subnet CIDR | Prevents session theft via network access (<span style={{whiteSpace: 'nowrap'}}>SC-TF-3.1</span>) |
| PostgreSQL VPC binding | Network | RDS security group allows connections only from application subnet CIDR | Prevents direct database access from outside the application |
| S3 VPC endpoint | Network | S3 access via VPC endpoint, no public internet path | File access stays within AWS network |
| Load balancer TLS termination | Application | HTTPS only, TLS 1.2 minimum, HTTP redirects to HTTPS | Ensures all client communication is encrypted |

---

### PR.IR-02: Environmental protection

Taskflow runs entirely on AWS managed infrastructure. Environmental protections (power, cooling, fire suppression, physical security) are managed by AWS. AWS data centers maintain SOC 2, ISO 27001, and other certifications covering environmental controls.

---

### PR.IR-03: Resilience mechanisms

| Mechanism | Where applied | Configuration | Failure behaviour |
|---|---|---|---|
| Multi-AZ deployment | PostgreSQL (RDS) | RDS Multi-AZ with automatic failover | Standby promoted automatically. Downtime target under 60 seconds. |
| Multi-AZ deployment | Redis (ElastiCache) | Multi-AZ with automatic failover | Replica promoted automatically. Sessions may need re-creation. |
| Auto-scaling | Express API (ECS/EC2) | Min 2, max 8 instances. Scale at 70% CPU. | New instances launched automatically. Load balancer routes traffic. |
| S3 durability | File attachments | S3 Standard (11 nines durability) + versioning + cross-region replication | Files recoverable from versioning or replica bucket. |
| Health checks | All services | Load balancer health check every 30 seconds | Unhealthy instances removed from rotation within 60 seconds. |
| Circuit breaker | API to external services (Stripe, SendGrid) | Retry with exponential backoff, circuit opens after 5 consecutive failures | Graceful degradation: payment operations queued, emails deferred. |

---

### PR.IR-04: Capacity management

| Resource | Monitoring | Alert threshold | Scaling approach | Max limit |
|---|---|---|---|---|
| API CPU | CloudWatch metrics | Warning: 60%. Critical: 80%. | Auto-scaling adds instances | 8 instances |
| API memory | CloudWatch metrics | Warning: 70%. Critical: 85%. | Auto-scaling adds instances | 8 instances |
| PostgreSQL connections | RDS metrics | Warning: 70% of max_connections. Critical: 85%. | Increase instance size or add read replicas | RDS instance class limit |
| PostgreSQL storage | RDS metrics | Warning: 80% of allocated storage. Critical: 90%. | Auto-scaling storage enabled | 1 TB |
| Redis memory | ElastiCache metrics | Warning: 70%. Critical: 85%. | Increase node size | ElastiCache node class limit |
| S3 storage | CloudWatch metrics | No hard limit (cost monitoring) | Unlimited (cost alert at $500/month) | N/A |

---
